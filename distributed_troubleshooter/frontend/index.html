<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login / Signup</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
  <div class="container mt-5">
    <h2 class="text-center mb-4" id="form-title">Login</h2>

    <!-- LOGIN FORM -->
    <div class="card p-4" id="login-form">
      <div class="mb-3">
        <label>Email</label>
        <input id="login-email" class="form-control" type="email">
      </div>

      <div class="mb-3">
        <label>Password</label>
        <input id="login-password" class="form-control" type="password">
        <div class="form-check mt-1">
          <input class="form-check-input" type="checkbox" id="login-show-pass" onclick="togglePassword('login-password')">
          <label class="form-check-label" for="login-show-pass">Show password</label>
        </div>
      </div>

      <button class="btn btn-primary w-100 mb-2" onclick="login()">Login</button>

      <p class="text-center">Don’t have an account? <a href="#" onclick="showSignup()">Sign up</a></p>

      <div id="login-message" class="mt-2 text-danger text-center"></div>
    </div>

    <!-- SIGNUP FORM -->
    <div class="card p-4" id="signup-form" style="display:none;">
      <div class="mb-3">
        <label>Name</label>
        <input id="signup-name" class="form-control" type="text">
      </div>

      <div class="mb-3">
        <label>Email</label>
        <input id="signup-email" class="form-control" type="email">
      </div>

      <div class="mb-3">
        <label>Password</label>
        <input id="signup-password" class="form-control" type="password">
        <div class="form-check mt-1">
          <input class="form-check-input" type="checkbox" id="signup-show-pass" onclick="togglePassword('signup-password')">
          <label class="form-check-label" for="signup-show-pass">Show password</label>
        </div>
      </div>

      <div class="mb-3">
        <label>Role</label>
        <select id="signup-role" class="form-select">
          <option value="user">User</option>
          <option value="expert">Expert</option>
        </select>
      </div>

      <div class="mb-3">
        <label>Region</label>
        <select id="region" class="form-select">
          <option value="north">North</option>
          <option value="south">South</option>
          <option value="east">East</option>
          <option value="west">West</option>
        </select>
      </div>

      <div class="mb-3">
        <label>Expertise Tags (comma-separated)</label>
        <input id="signup-tags" class="form-control" type="text" placeholder="e.g., database, cloud, python">
      </div>

      <button class="btn btn-success w-100 mb-2" onclick="signup()">Sign up</button>

      <p class="text-center">Already have an account? <a href="#" onclick="showLogin()">Login</a></p>

      <div id="signup-message" class="mt-2 text-danger text-center"></div>
    </div>
  </div>

  <!-- ✅ Load auth.js FIRST -->
  <script src="js/auth.js"></script>

  <!-- ✅ Then define helpers -->
  <script>
    function togglePassword(inputId) {
      const field = document.getElementById(inputId);
      field.type = field.type === "password" ? "text" : "password";
    }

    function showSignup() {
      document.getElementById("login-form").style.display = "none";
      document.getElementById("signup-form").style.display = "block";
      document.getElementById("form-title").innerText = "Sign Up";
    }

    function showLogin() {
      document.getElementById("signup-form").style.display = "none";
      document.getElementById("login-form").style.display = "block";
      document.getElementById("form-title").innerText = "Login";
    }
  </script>
</body>
</html>
